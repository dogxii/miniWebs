# ğŸ¨ ä»£ç ä¼˜é›…æŒ‡å—

æˆ‘ä¸ºä½ æ•´ç†äº†ä¸€ä»½å®ç”¨çš„ä»£ç ä¼˜é›…æŒ‡å—ï¼ŒåŒ…å«åŸåˆ™ã€æ¨¡å¼å’Œå®æˆ˜æŠ€å·§ã€‚

---

## ğŸ“š ä¸€ã€æ ¸å¿ƒåŸåˆ™

### 1. **SOLID åŸåˆ™**

#### S - å•ä¸€èŒè´£åŸåˆ™ (Single Responsibility)

```js
// âŒ ä¸ä¼˜é›…ï¼šä¸€ä¸ªå‡½æ•°åšå¤ªå¤šäº‹
function handleUser(user) {
  // éªŒè¯
  if (!user.email) return false;
  // ä¿å­˜åˆ°æ•°æ®åº“
  database.save(user);
  // å‘é€é‚®ä»¶
  sendEmail(user.email, "Welcome");
  // è®°å½•æ—¥å¿—
  logger.log("User created");
}
```

```js
// âœ… ä¼˜é›…ï¼šæ¯ä¸ªå‡½æ•°åªåšä¸€ä»¶äº‹
function validateUser(user) {
  return user.email && user.name;
}

function saveUser(user) {
  return database.save(user);
}

function sendWelcomeEmail(email) {
  return sendEmail(email, "Welcome");
}

function logUserCreation(userId) {
  logger.log(`User ${userId} created`);
}

// ç»„åˆä½¿ç”¨
async function createUser(user) {
  if (!validateUser(user)) throw new Error("Invalid user");
  const savedUser = await saveUser(user);
  await sendWelcomeEmail(savedUser.email);
  logUserCreation(savedUser.id);
  return savedUser;
}
```

### 2. **DRY åŸåˆ™ (Don't Repeat Yourself)**

```js
// âŒ ä¸ä¼˜é›…ï¼šé‡å¤ä»£ç 
function formatUserName(user) {
  return user.firstName + " " + user.lastName;
}

function formatAdminName(admin) {
  return admin.firstName + " " + admin.lastName;
}

function formatGuestName(guest) {
  return guest.firstName + " " + guest.lastName;
}
```

```js
// âœ… ä¼˜é›…ï¼šæŠ½å–å…¬å…±é€»è¾‘
function formatFullName(person) {
  return `${person.firstName} ${person.lastName}`;
}

// ä½¿ç”¨
const userName = formatFullName(user);
const adminName = formatFullName(admin);
const guestName = formatFullName(guest);
```

### 3. **KISS åŸåˆ™ (Keep It Simple, Stupid)**

```js
// âŒ ä¸ä¼˜é›…ï¼šè¿‡åº¦å¤æ‚
function isAdult(age) {
  return age >= 18 ? true : age < 18 ? false : undefined;
}

function getDiscount(price, isVip, isMember, dayOfWeek) {
  return (
    price *
    (isVip
      ? isMember
        ? dayOfWeek === "Monday"
          ? 0.7
          : 0.8
        : 0.85
      : isMember
        ? 0.9
        : 0.95)
  );
}
```

```js
// âœ… ä¼˜é›…ï¼šç®€å•æ˜äº†
function isAdult(age) {
  return age >= 18;
}

function getDiscount(price, { isVip, isMember, dayOfWeek }) {
  let discount = 0.95; // åŸºç¡€æŠ˜æ‰£

  if (isMember) discount = 0.9;
  if (isVip) discount = 0.85;
  if (isVip && isMember) discount = 0.8;
  if (isVip && isMember && dayOfWeek === "Monday") discount = 0.7;

  return price * discount;
}

// æ›´ä¼˜é›…çš„æ–¹å¼ï¼šé…ç½®é©±åŠ¨
const DISCOUNT_RULES = {
  base: 0.95,
  member: 0.9,
  vip: 0.85,
  vipMember: 0.8,
  vipMemberMonday: 0.7,
};
```

---

## ğŸ—ï¸ äºŒã€ä»£ç ç»„ç»‡æ¨¡å¼

### 1. **æ¨¡å—åŒ–ç»„ç»‡**

```js
// ========================================
// 1ï¸âƒ£ å¸¸é‡é…ç½®ï¼ˆå¤§å†™ï¼‰
// ========================================
const CONFIG = {
  DEFAULT_VOLUME: 0.7,
  FADE_DURATION: 300,
  AUTO_PLAY: false,
};

const SVG_ICONS = {
  play: `<svg>...</svg>`,
  pause: `<svg>...</svg>`,
};

// ========================================
// 2ï¸âƒ£ æ•°æ®æ¨¡å‹
// ========================================
const SONGS = [
  {
    id: 1,
    title: "æ­Œæ›²å",
    artist: "æ­Œæ‰‹",
    file: "path/to/file.mp3",
    cover: "path/to/cover.jpg",
  },
];

// ========================================
// 3ï¸âƒ£ DOM å…ƒç´ ç¼“å­˜ï¼ˆé¿å…é‡å¤æŸ¥è¯¢ï¼‰
// ========================================
const DOM = {
  audio: document.querySelector("#audio"),
  playBtn: document.querySelector("#play"),
  prevBtn: document.querySelector("#prev"),
  nextBtn: document.querySelector("#next"),
};

// ========================================
// 4ï¸âƒ£ å·¥å…·å‡½æ•°ï¼ˆçº¯å‡½æ•°ï¼Œæ— å‰¯ä½œç”¨ï¼‰
// ========================================
function formatTime(seconds) {
  const mins = Math.floor(seconds / 60);
  const secs = Math.floor(seconds % 60);
  return `${mins}:${secs.toString().padStart(2, "0")}`;
}

function clamp(value, min, max) {
  return Math.min(Math.max(value, min), max);
}

// ========================================
// 5ï¸âƒ£ æ ¸å¿ƒé€»è¾‘ï¼ˆç±»æˆ–å¯¹è±¡å°è£…ï¼‰
// ========================================
class MusicPlayer {
  // ... å®ç°
}

// ========================================
// 6ï¸âƒ£ äº‹ä»¶ç›‘å¬å’Œåˆå§‹åŒ–
// ========================================
function init() {
  const player = new MusicPlayer();
  setupEventListeners(player);
}

document.addEventListener("DOMContentLoaded", init);
```

### 2. **ç±»çš„ç»„ç»‡**

```js
class MusicPlayer {
  // ========================================
  // 1ï¸âƒ£ é™æ€å±æ€§å’Œæ–¹æ³•
  // ========================================
  static VERSION = "1.0.0";

  static create(config) {
    return new MusicPlayer(config);
  }

  // ========================================
  // 2ï¸âƒ£ ç§æœ‰å±æ€§ï¼ˆç”¨ # æˆ–çº¦å®šç”¨ _ï¼‰
  // ========================================
  #currentIndex = 0;
  #isPlaying = false;

  // ========================================
  // 3ï¸âƒ£ æ„é€ å‡½æ•°
  // ========================================
  constructor(config = {}) {
    this.config = { ...CONFIG, ...config };
    this.songs = config.songs || [];
    this._initElements();
    this._bindEvents();
  }

  // ========================================
  // 4ï¸âƒ£ å…¬å…± APIï¼ˆå¯¹å¤–æ¥å£ï¼‰
  // ========================================
  play() {
    this.#isPlaying = true;
    this._audio.play();
    this._updateUI();
  }

  pause() {
    this.#isPlaying = false;
    this._audio.pause();
    this._updateUI();
  }

  next() {
    this.#currentIndex = (this.#currentIndex + 1) % this.songs.length;
    this._loadSong();
    if (this.#isPlaying) this.play();
  }

  // Getter/Setter
  get currentSong() {
    return this.songs[this.#currentIndex];
  }

  get isPlaying() {
    return this.#isPlaying;
  }

  // ========================================
  // 5ï¸âƒ£ ç§æœ‰æ–¹æ³•ï¼ˆå†…éƒ¨å®ç°ï¼Œç”¨ _ å‰ç¼€ï¼‰
  // ========================================
  _initElements() {
    this._audio = document.querySelector("#audio");
    this._playBtn = document.querySelector("#play");
  }

  _bindEvents() {
    this._playBtn.addEventListener("click", () => this.toggle());
    this._audio.addEventListener("ended", () => this.next());
  }

  _loadSong() {
    const song = this.currentSong;
    this._audio.src = song.file;
    this._updateUI();
  }

  _updateUI() {
    // UI æ›´æ–°é€»è¾‘
  }
}
```

---

## ğŸ¯ ä¸‰ã€å‘½åè§„èŒƒ

### 1. **æœ‰æ„ä¹‰çš„å‘½å**

```js
// âŒ ä¸ä¼˜é›…ï¼šæ— æ„ä¹‰çš„å‘½å
const d = new Date();
const arr = getData();
function fn(x, y) { return x + y; }

// âœ… ä¼˜é›…ï¼šæè¿°æ€§å‘½å
const currentDate = new Date();
const userList = getUserList();
function calculateTotal(price, tax) {
  return price + tax;
}

// ========================================
// å‘½åè§„èŒƒé€ŸæŸ¥è¡¨
// ========================================

// å˜é‡ï¼šåè¯æˆ–å½¢å®¹è¯
const userName = "Alice";
const isActive = true;
const totalCount = 100;

// å‡½æ•°ï¼šåŠ¨è¯å¼€å¤´
function getUserData() { }
function validateEmail() { }
function handleClick() { }

// å¸ƒå°”å€¼ï¼šis/has/can/should å¼€å¤´
const isLoading = false;
const hasPermission = true;
const canEdit = false;
const shouldUpdate = true;

// å¸¸é‡ï¼šå…¨å¤§å†™ï¼Œä¸‹åˆ’çº¿åˆ†éš”
const MAX_RETRY_COUNT = 3;
const API_BASE_URL = "https://api.example.com";

// ç±»ï¼šå¤§é©¼å³°ï¼ˆPascalCaseï¼‰
class MusicPlayer { }
class DataService { }

// ç§æœ‰ï¼šä¸‹åˆ’çº¿æˆ– # å‰ç¼€
this._privateMethod();
#privateField = 10;
```

### 2. **ä¸€è‡´æ€§å‘½å**

```js
// âŒ ä¸ä¼˜é›…ï¼šä¸ä¸€è‡´
function getUser() {}
function fetchData() {}
function retrieveInfo() {}

// âœ… ä¼˜é›…ï¼šç»Ÿä¸€ä½¿ç”¨ get
function getUser() {}
function getData() {}
function getInfo() {}

// ========================================
// å»ºç«‹é¡¹ç›®è¯æ±‡è¡¨
// ========================================
const VOCABULARY = {
  // è·å–æ•°æ®
  get: "è·å–å•ä¸ª",
  fetch: "ä»æœåŠ¡å™¨è·å–",
  load: "åŠ è½½èµ„æº",

  // é›†åˆæ“ä½œ
  list: "åˆ—è¡¨",
  items: "å¤šä¸ªé¡¹ç›®",
  collection: "é›†åˆ",

  // CRUD
  create: "åˆ›å»º",
  update: "æ›´æ–°",
  delete: "åˆ é™¤",
  remove: "ç§»é™¤",
};
```

---

## ğŸ”§ å››ã€å‡½æ•°è®¾è®¡

### 1. **çº¯å‡½æ•°ä¼˜å…ˆ**

```js
// âŒ ä¸ä¼˜é›…ï¼šæœ‰å‰¯ä½œç”¨
let total = 0;
function addToTotal(amount) {
  total += amount; // ä¿®æ”¹å¤–éƒ¨çŠ¶æ€
  return total;
}

// âœ… ä¼˜é›…ï¼šçº¯å‡½æ•°
function add(a, b) {
  return a + b; // æ— å‰¯ä½œç”¨ï¼Œç»“æœå¯é¢„æµ‹
}

const total = numbers.reduce((sum, num) => add(sum, num), 0);

// ========================================
// çº¯å‡½æ•°çš„å¥½å¤„
// ========================================
// 1. å¯æµ‹è¯•æ€§å¼º
// 2. å¯ç¼“å­˜ç»“æœ
// 3. æ˜“äºæ¨ç†
// 4. å¯å¹¶è¡Œæ‰§è¡Œ

const memoizedAdd = memoize(add);
```

### 2. **å‚æ•°å¤„ç†**

```js parameters.js#L1-50
// âŒ ä¸ä¼˜é›…ï¼šå‚æ•°è¿‡å¤š
function createUser(name, email, age, country, city, phone, gender) {
  // ...
}

// âœ… ä¼˜é›…ï¼šä½¿ç”¨å¯¹è±¡å‚æ•°
function createUser({ name, email, age, address, phone, gender }) {
  // ...
}

// è°ƒç”¨æ—¶æ›´æ¸…æ™°
createUser({
  name: "Alice",
  email: "alice@example.com",
  age: 25,
  address: { country: "CN", city: "Beijing" },
  phone: "123456789",
  gender: "F",
});

// ========================================
// é»˜è®¤å‚æ•°å’Œè§£æ„
// ========================================
function fetchData({ url, method = "GET", headers = {}, timeout = 5000 } = {}) {
  // ...
}

// ========================================
// å‰©ä½™å‚æ•°
// ========================================
function sum(...numbers) {
  return numbers.reduce((a, b) => a + b, 0);
}

sum(1, 2, 3, 4, 5); // 15

// ========================================
// å‡½æ•°é‡è½½æ¨¡å¼
// ========================================
function createElement(tag, propsOrText, children) {
  if (typeof propsOrText === "string") {
    // createElement('div', 'Hello')
    return { tag, children: [propsOrText] };
  }
  // createElement('div', { class: 'box' }, [...])
  return { tag, props: propsOrText, children };
}
```

### 3. **æå‰è¿”å›**

```js early-return.js#L1-35
// âŒ ä¸ä¼˜é›…ï¼šåµŒå¥—è¿‡æ·±
function processUser(user) {
  if (user) {
    if (user.isActive) {
      if (user.hasPermission) {
        // å®é™…é€»è¾‘
        return doSomething(user);
      } else {
        return null;
      }
    } else {
      return null;
    }
  } else {
    return null;
  }
}

// âœ… ä¼˜é›…ï¼šæå‰è¿”å›ï¼ˆGuard Clausesï¼‰
function processUser(user) {
  if (!user) return null;
  if (!user.isActive) return null;
  if (!user.hasPermission) return null;

  return doSomething(user);
}

// ========================================
// æ›´ä¼˜é›…çš„æ–¹å¼ï¼šä½¿ç”¨å¯é€‰é“¾
// ========================================
function processUser(user) {
  if (!user?.isActive || !user?.hasPermission) {
    return null;
  }

  return doSomething(user);
}
```

---

## ğŸ¨ äº”ã€ç°ä»£ JavaScript æŠ€å·§

### 1. **è§£æ„å’Œå±•å¼€**

```js modern-js.js#L1-60
// ========================================
// å¯¹è±¡è§£æ„
// ========================================
const user = { name: "Alice", age: 25, city: "Beijing" };

// âŒ ä¸ä¼˜é›…
const name = user.name;
const age = user.age;

// âœ… ä¼˜é›…
const { name, age } = user;

// é‡å‘½å
const { name: userName, age: userAge } = user;

// é»˜è®¤å€¼
const { country = "China" } = user;

// åµŒå¥—è§£æ„
const {
  address: { city, street },
} = user;

// ========================================
// æ•°ç»„è§£æ„
// ========================================
const [first, second, ...rest] = [1, 2, 3, 4, 5];
// first = 1, second = 2, rest = [3, 4, 5]

// äº¤æ¢å˜é‡
let a = 1,
  b = 2;
[a, b] = [b, a];

// ========================================
// å±•å¼€è¿ç®—ç¬¦
// ========================================
// åˆå¹¶å¯¹è±¡
const defaults = { theme: "dark", lang: "zh" };
const userConfig = { lang: "en" };
const config = { ...defaults, ...userConfig };
// { theme: 'dark', lang: 'en' }

// å¤åˆ¶æ•°ç»„
const original = [1, 2, 3];
const copy = [...original];

// åˆå¹¶æ•°ç»„
const arr1 = [1, 2];
const arr2 = [3, 4];
const merged = [...arr1, ...arr2];

// ========================================
// å¯é€‰é“¾
// ========================================
// âŒ ä¸ä¼˜é›…
const city = user && user.address && user.address.city;

// âœ… ä¼˜é›…
const city = user?.address?.city;

// æ–¹æ³•è°ƒç”¨
user?.getName?.();

// æ•°ç»„ç´¢å¼•
const firstItem = items?.[0];

// ========================================
// ç©ºå€¼åˆå¹¶
// ========================================
const count = userInput ?? 0; // åªåœ¨ null/undefined æ—¶ä½¿ç”¨é»˜è®¤å€¼
const count2 = userInput || 0; // 0ã€''ã€false éƒ½ä¼šä½¿ç”¨é»˜è®¤å€¼
```

### 2. **æ•°ç»„æ–¹æ³•é“¾å¼è°ƒç”¨**

```js array-methods.js#L1-50
// âŒ ä¸ä¼˜é›…ï¼šå‘½ä»¤å¼
const users = getUsers();
const result = [];
for (let i = 0; i < users.length; i++) {
  if (users[i].age >= 18) {
    result.push(users[i].name);
  }
}

// âœ… ä¼˜é›…ï¼šå£°æ˜å¼
const adultNames = users
  .filter((user) => user.age >= 18)
  .map((user) => user.name);

// ========================================
// å¸¸ç”¨æ•°ç»„æ–¹æ³•ç»„åˆ
// ========================================

// map: è½¬æ¢
const ids = users.map((u) => u.id);

// filter: ç­›é€‰
const adults = users.filter((u) => u.age >= 18);

// find: æŸ¥æ‰¾ç¬¬ä¸€ä¸ª
const admin = users.find((u) => u.role === "admin");

// some: æ˜¯å¦å­˜åœ¨
const hasAdmin = users.some((u) => u.role === "admin");

// every: æ˜¯å¦å…¨éƒ¨
const allAdults = users.every((u) => u.age >= 18);

// reduce: å½’çº¦
const totalAge = users.reduce((sum, u) => sum + u.age, 0);

// sort: æ’åºï¼ˆè®°å¾—è¿”å›æ•°å­—ï¼‰
const sorted = [...users].sort((a, b) => a.age - b.age);

// ========================================
// å¤æ‚é“¾å¼æ“ä½œ
// ========================================
const result = users
  .filter((u) => u.isActive) // 1. ç­›é€‰æ´»è·ƒç”¨æˆ·
  .map((u) => ({
    // 2. è½¬æ¢æ•°æ®ç»“æ„
    id: u.id,
    name: u.name,
    score: calculateScore(u),
  }))
  .sort((a, b) => b.score - a.score) // 3. æŒ‰åˆ†æ•°é™åº
  .slice(0, 10) // 4. å–å‰ 10 å
  .map((u) => u.name); // 5. åªè¦åå­—
```

### 3. **å¯¹è±¡å’Œæ•°ç»„çš„ç°ä»£æ“ä½œ**

```js modern-operations.js#L1-60
// ========================================
// Object.entries/keys/values
// ========================================
const obj = { a: 1, b: 2, c: 3 };

// éå†å¯¹è±¡
Object.entries(obj).forEach(([key, value]) => {
  console.log(`${key}: ${value}`);
});

// è½¬æ¢ä¸ºæ•°ç»„
const doubled = Object.fromEntries(
  Object.entries(obj).map(([k, v]) => [k, v * 2]),
);

// ========================================
// Array.from
// ========================================
// ä»ç±»æ•°ç»„åˆ›å»ºæ•°ç»„
const divs = Array.from(document.querySelectorAll("div"));

// åˆ›å»ºåºåˆ—
const range = Array.from({ length: 5 }, (_, i) => i);
// [0, 1, 2, 3, 4]

// ========================================
// åˆ†ç»„æ“ä½œï¼ˆES2024ï¼‰
// ========================================
const users = [
  { name: "Alice", role: "admin" },
  { name: "Bob", role: "user" },
  { name: "Charlie", role: "admin" },
];

// æ‰‹åŠ¨åˆ†ç»„ï¼ˆå…¼å®¹æ€§å¥½ï¼‰
const grouped = users.reduce((acc, user) => {
  const key = user.role;
  if (!acc[key]) acc[key] = [];
  acc[key].push(user);
  return acc;
}, {});

// ä½¿ç”¨ Object.groupByï¼ˆæ–°ç‰¹æ€§ï¼‰
const grouped2 = Object.groupBy(users, (user) => user.role);

// ========================================
// å»é‡
// ========================================
const numbers = [1, 2, 2, 3, 3, 4];

// ä½¿ç”¨ Set
const unique = [...new Set(numbers)];

// å¯¹è±¡æ•°ç»„å»é‡
const uniqueUsers = Array.from(new Map(users.map((u) => [u.id, u])).values());

// ========================================
// flatMap: æ˜ å°„ + æ‰å¹³åŒ–
// ========================================
const nested = [[1, 2], [3, 4], [5]];
const flat = nested.flatMap((x) => x);
// [1, 2, 3, 4, 5]

const sentences = ["Hello world", "How are you"];
const words = sentences.flatMap((s) => s.split(" "));
// ['Hello', 'world', 'How', 'are', 'you']
```

---

## ğŸ›ï¸ å…­ã€è®¾è®¡æ¨¡å¼åº”ç”¨

### 1. **å·¥å‚æ¨¡å¼**

```js factory-pattern.js#L1-30
// ========================================
// ç®€å•å·¥å‚
// ========================================
class MusicPlayer {
  static create(type, config) {
    switch (type) {
      case "basic":
        return new BasicPlayer(config);
      case "advanced":
        return new AdvancedPlayer(config);
      case "premium":
        return new PremiumPlayer(config);
      default:
        throw new Error(`Unknown player type: ${type}`);
    }
  }
}

// ä½¿ç”¨
const player = MusicPlayer.create("advanced", { volume: 0.8 });

// ========================================
// å¯¹è±¡å·¥å‚ï¼ˆæ›´çµæ´»ï¼‰
// ========================================
function createPlayer(config) {
  const state = {
    isPlaying: false,
    volume: config.volume ?? 0.7,
  };

  return {
    play: () => {
      state.isPlaying = true;
    },
    pause: () => {
      state.isPlaying = false;
    },
    getVolume: () => state.volume,
    setVolume: (v) => {
      state.volume = v;
    },
  };
}
```

### 2. **ç­–ç•¥æ¨¡å¼**

```js strategy-pattern.js#L1-50
// âŒ ä¸ä¼˜é›…ï¼šif-else å †ç§¯
function calculateDiscount(type, price) {
  if (type === "vip") {
    return price * 0.8;
  } else if (type === "member") {
    return price * 0.9;
  } else if (type === "guest") {
    return price;
  }
}

// âœ… ä¼˜é›…ï¼šç­–ç•¥æ¨¡å¼
const discountStrategies = {
  vip: (price) => price * 0.8,
  member: (price) => price * 0.9,
  guest: (price) => price,
};

function calculateDiscount(type, price) {
  const strategy = discountStrategies[type] ?? discountStrategies.guest;
  return strategy(price);
}

// ========================================
// æ›´å¤æ‚çš„ç­–ç•¥
// ========================================
class PriceCalculator {
  constructor() {
    this.strategies = new Map();
  }

  registerStrategy(name, fn) {
    this.strategies.set(name, fn);
    return this; // é“¾å¼è°ƒç”¨
  }

  calculate(type, price) {
    const strategy = this.strategies.get(type);
    if (!strategy) throw new Error(`Unknown strategy: ${type}`);
    return strategy(price);
  }
}

// ä½¿ç”¨
const calculator = new PriceCalculator()
  .registerStrategy("vip", (p) => p * 0.8)
  .registerStrategy("member", (p) => p * 0.9)
  .registerStrategy("seasonal", (p) => p * 0.85);

const finalPrice = calculator.calculate("vip", 100);
```

### 3. **è§‚å¯Ÿè€…æ¨¡å¼ï¼ˆå‘å¸ƒ-è®¢é˜…ï¼‰**

```js observer-pattern.js#L1-50
class EventEmitter {
  constructor() {
    this.events = new Map();
  }

  on(event, listener) {
    if (!this.events.has(event)) {
      this.events.set(event, []);
    }
    this.events.get(event).push(listener);
    return this; // é“¾å¼è°ƒç”¨
  }

  off(event, listener) {
    if (!this.events.has(event)) return;
    const listeners = this.events.get(event);
    const index = listeners.indexOf(listener);
    if (index > -1) {
      listeners.splice(index, 1);
    }
    return this;
  }

  emit(event, ...args) {
    if (!this.events.has(event)) return;
    this.events.get(event).forEach((listener) => {
      listener(...args);
    });
    return this;
  }

  once(event, listener) {
    const onceWrapper = (...args) => {
      listener(...args);
      this.off(event, onceWrapper);
    };
    return this.on(event, onceWrapper);
  }
}

// ä½¿ç”¨
class MusicPlayer extends EventEmitter {
  play() {
    this.isPlaying = true;
    this.emit("play", { timestamp: Date.now() });
  }
}

const player = new MusicPlayer();
player.on("play", (data) => {
  console.log("æ’­æ”¾å¼€å§‹", data);
});
```

---

## ğŸ“ ä¸ƒã€ä»£ç å®¡æŸ¥æ¸…å•

### âœ… **æ¯æ¬¡æäº¤å‰æ£€æŸ¥**

```markdown
## å‘½å

- [ ] å˜é‡åæ˜¯å¦æœ‰æ„ä¹‰ï¼Ÿ
- [ ] å‡½æ•°åæ˜¯å¦æè¿°äº†å®ƒåšä»€ä¹ˆï¼Ÿ
- [ ] æ˜¯å¦é¿å…äº†ç¼©å†™å’Œå•å­—æ¯å˜é‡ï¼ˆé™¤äº† i, j, k å¾ªç¯å˜é‡ï¼‰ï¼Ÿ
- [ ] å¸ƒå°”å€¼æ˜¯å¦ä½¿ç”¨ is/has/can å‰ç¼€ï¼Ÿ

## å‡½æ•°

- [ ] å‡½æ•°æ˜¯å¦åªåšä¸€ä»¶äº‹ï¼Ÿ
- [ ] å‡½æ•°æ˜¯å¦å°‘äº 20 è¡Œï¼Ÿ
- [ ] æ˜¯å¦é¿å…äº†æ·±å±‚åµŒå¥—ï¼ˆè¶…è¿‡ 3 å±‚ï¼‰ï¼Ÿ
- [ ] å‚æ•°æ˜¯å¦å°‘äº 4 ä¸ªï¼Ÿ
- [ ] æ˜¯å¦ä½¿ç”¨äº†æå‰è¿”å›ï¼Ÿ

## ä»£ç è´¨é‡

- [ ] æ˜¯å¦æœ‰é‡å¤ä»£ç ï¼Ÿ
- [ ] æ˜¯å¦æœ‰é­”æ³•æ•°å­—ï¼Ÿï¼ˆåº”è¯¥æå–ä¸ºå¸¸é‡ï¼‰
- [ ] æ˜¯å¦æœ‰è¿‡æ—¶çš„æ³¨é‡Šï¼Ÿ
- [ ] æ˜¯å¦æœ‰è¢«æ³¨é‡Šæ‰çš„ä»£ç ï¼Ÿï¼ˆåº”è¯¥åˆ é™¤ï¼‰
- [ ] é”™è¯¯å¤„ç†æ˜¯å¦å®Œå–„ï¼Ÿ

## æ€§èƒ½

- [ ] æ˜¯å¦ç¼“å­˜äº† DOM æŸ¥è¯¢ç»“æœï¼Ÿ
- [ ] æ˜¯å¦é¿å…äº†ä¸å¿…è¦çš„å¾ªç¯ï¼Ÿ
- [ ] æ˜¯å¦ä½¿ç”¨äº†åˆé€‚çš„æ•°æ®ç»“æ„ï¼Ÿ

## å¯ç»´æŠ¤æ€§

- [ ] æ–°åŒäº‹èƒ½å¦è½»æ¾ç†è§£è¿™æ®µä»£ç ï¼Ÿ
- [ ] 6 ä¸ªæœˆåçš„ä½ èƒ½å¦ç†è§£è¿™æ®µä»£ç ï¼Ÿ
- [ ] æ˜¯å¦éœ€è¦æ·»åŠ æ³¨é‡Šï¼Ÿï¼ˆä½†ä»£ç æœ¬èº«åº”è¯¥æ˜¯è‡ªè§£é‡Šçš„ï¼‰

## æµ‹è¯•

- [ ] è¾¹ç•Œæƒ…å†µæ˜¯å¦å¤„ç†ï¼Ÿ
- [ ] æ˜¯å¦å¤„ç†äº† null/undefinedï¼Ÿ
- [ ] æ˜¯å¦è€ƒè™‘äº†å¼‚å¸¸æƒ…å†µï¼Ÿ
```

---

## ğŸ› ï¸ å…«ã€å®ç”¨å·¥å…·æ¨è

### 1. **ä»£ç æ ¼å¼åŒ–**

```js tools.md#L1-30
## Prettierï¼ˆä»£ç æ ¼å¼åŒ–ï¼‰
- è‡ªåŠ¨æ ¼å¼åŒ–ä»£ç 
- ç»Ÿä¸€å›¢é˜Ÿä»£ç é£æ ¼
- é…ç½®æ–‡ä»¶: .prettierrc

{
  "semi": true,
  "singleQuote": true,
  "tabWidth": 2,
  "trailingComma": "es5"
}

## ESLintï¼ˆä»£ç è´¨é‡ï¼‰
- æ£€æµ‹ä»£ç é—®é¢˜
- å¼ºåˆ¶æœ€ä½³å®è·µ
- æ¨èè§„åˆ™é›†: airbnb, standard

{
  "extends": ["eslint:recommended"],
  "rules": {
    "no-var": "error",
    "prefer-const": "error",
    "no-console": "warn"
  }
}

## TypeScript
- ç±»å‹å®‰å…¨
- æ›´å¥½çš„ IDE æ”¯æŒ
- æ›´æ—©å‘ç°é”™è¯¯
```

---

## ğŸ“– ä¹ã€æ¨èå­¦ä¹ èµ„æº

```md
## ä¹¦ç±

ğŸ“š ã€Šä»£ç æ•´æ´ä¹‹é“ã€‹ - Robert C. Martin
ğŸ“š ã€Šé‡æ„ï¼šæ”¹å–„æ—¢æœ‰ä»£ç çš„è®¾è®¡ã€‹ - Martin Fowler
ğŸ“š ã€ŠJavaScript è®¾è®¡æ¨¡å¼ä¸å¼€å‘å®è·µã€‹ - æ›¾æ¢
ğŸ“š ã€Šä½ ä¸çŸ¥é“çš„ JavaScriptã€‹ç³»åˆ—

## åœ¨çº¿èµ„æº

ğŸŒ MDN Web Docs - https://developer.mozilla.org
ğŸŒ JavaScript.info - https://javascript.info
ğŸŒ Clean Code JavaScript - https://github.com/ryanmcdermott/clean-code-javascript

## å®è·µå»ºè®®

1. é˜…è¯»ä¼˜ç§€çš„å¼€æºé¡¹ç›®ä»£ç 
2. å‚ä¸ Code Review
3. é‡æ„è‡ªå·±çš„æ—§ä»£ç 
4. å­¦ä¹ è®¾è®¡æ¨¡å¼
5. å†™æŠ€æœ¯åšå®¢æ€»ç»“

## GitHub ä¼˜ç§€é¡¹ç›®

- Vue.js æºç 
- React æºç 
- Lodash å·¥å…·åº“
```

---

## ğŸ¯ åã€æ€»ç»“ï¼šä¼˜é›…ä»£ç çš„æœ¬è´¨

```js summary.js#L1-20
/**
 * ä¼˜é›…ä»£ç çš„å››ä¸ªç»´åº¦
 */

// 1ï¸âƒ£ å¯è¯»æ€§ - åƒè¯»æ–‡ç« ä¸€æ ·è¯»ä»£ç 
const activeUsers = users.filter(isActive).map(formatUser);

// 2ï¸âƒ£ å¯ç»´æŠ¤æ€§ - ä¿®æ”¹ä¸€ä¸ªåœ°æ–¹ï¼Œä¸å½±å“å…¶ä»–åœ°æ–¹
const CONFIG = {
  /* ... */
};

// 3ï¸âƒ£ å¯æ‰©å±•æ€§ - å®¹æ˜“æ·»åŠ æ–°åŠŸèƒ½
class Player {
  use(plugin) {
    /* ... */
  }
}

// 4ï¸âƒ£ æ€§èƒ½ - åœ¨ä¿æŒä¼˜é›…çš„å‰æä¸‹ä¼˜åŒ–
const userMap = new Map(users.map((u) => [u.id, u]));

// è®°ä½ï¼šä¼˜é›…ä¸æ˜¯ç‚«æŠ€ï¼Œè€Œæ˜¯è®©ä»£ç æ›´å®¹æ˜“è¢«äººç†è§£å’Œç»´æŠ¤
```

---

## ğŸ’¡ æœ€åçš„å»ºè®®

1. **ä»å°å¤„å¼€å§‹**ï¼šä¸è¦è¯•å›¾ä¸€æ¬¡é‡æ„æ‰€æœ‰ä»£ç ï¼Œä»ä¸€ä¸ªå‡½æ•°ã€ä¸€ä¸ªæ¨¡å—å¼€å§‹
2. **ä¿æŒä¸€è‡´**ï¼šé€‰æ‹©ä¸€ç§é£æ ¼å¹¶åšæŒä¸‹å»
3. **æŒç»­å­¦ä¹ **ï¼šå…³æ³¨æœ€æ–°çš„è¯­è¨€ç‰¹æ€§å’Œæœ€ä½³å®è·µ
4. **å›¢é˜Ÿåä½œ**ï¼šåˆ¶å®šä»£ç è§„èŒƒï¼Œäº’ç›¸ Code Review
5. **å®è·µä¸ºç‹**ï¼šå¤šå†™ã€å¤šæ”¹ã€å¤šæ€»ç»“

ä¼˜é›…çš„ä»£ç æ˜¯ä¿®æ”¹å‡ºæ¥çš„ï¼Œä¸æ˜¯ä¸€æ¬¡å†™æˆçš„ã€‚ç¥ä½ å†™å‡ºè¶Šæ¥è¶Šä¼˜é›…çš„ä»£ç ï¼ ğŸš€
